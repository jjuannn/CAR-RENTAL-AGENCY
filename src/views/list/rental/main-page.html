{% extends 'layout/index.html' %}

{% block body %}

{% for error in data.errors %}
    <div class="notification is-danger is-light">
    <button class="delete"></button>
        {{error}}
    </div>
{% endfor %}

{% for message in data.messages %}
    <div class="notification is-success is-light">
    <button class="delete"></button>
        {{message}}
    </div>
{% endfor %}


<div style="text-align: center; margin-top: 50px">
    <div>
        <form style="display:inline-block" method="GET" action="/rental/new">
            <button type="submit" class="button is-primary" >
                <strong>
                    Add Rental <i class="fas fa-plus-square"></i>
                </strong> 
            </button>
        </form>
    </div>
</div>

<div id="container" class="cl-list-container">
    <table class="table is-bordered cl-list-table">
    <thead>
        <tr>
            <th class="cl-list-col">Rental</th>
            <th class="cl-list-col">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for rental in data.rentals %}
        <tr>
            <th class="cl-list-col">
                {{rental.Car.year}}
                {{rental.Car.brand}} 
                {{rental.Car.model}} <br> 
                {{rental.Client.name}}
                {{rental.Client.surname}}
            </th>
            <th class="cl-list-col">
                <form class="cl-col-form" method="GET" action="/rental/view?:id">
                    <input type="hidden" name="id" value="{{rental.id}}">
                    <button type="submit" class="button is-primary"><strong>Details <i class="fas fa-eye"></i></strong></button>
                </form>
                <form class="cl-col-form" method="GET" action="/rental/edit?:id">
                    <input type="hidden" name="id" value="{{rental.id}}">
                    <button type="submit" class="button is-info"><strong>Edit <i class="fas fa-edit"></i></strong></button>
                </form>
                <form class="cl-col-form" method="GET" action="/rental/delete?:id">
                    <input type="hidden" name="id" value="{{rental.id}}">
                    <button type="submit" class="button is-danger"><strong>Delete <i class="fas fa-trash"></i></strong></button>
                </form>
        </tr>
        {% endfor %}
    </tbody>
    </table>
</div>

{% endblock %}